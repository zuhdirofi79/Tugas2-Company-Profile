(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55262],{17314:(e,t,r)=>{r.d(t,{Z:()=>c});var a,o,n=r(813653),d=r(861470),i=0,s=0;const c=function(e,t,r){var c=t&&r||0,u=t||new Array(16),m=(e=e||{}).node||a,g=void 0!==e.clockseq?e.clockseq:o;if(null==m||null==g){var l=e.random||(e.rng||n.Z)();null==m&&(m=a=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==g&&(g=o=16383&(l[6]<<8|l[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),E=void 0!==e.nsecs?e.nsecs:s+1,_=p-i+(E-s)/1e4;if(_<0&&void 0===e.clockseq&&(g=g+1&16383),(_<0||p>i)&&void 0===e.nsecs&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=p,s=E,o=g;var y=(1e4*(268435455&(p+=122192928e5))+E)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;var T=p/4294967296*1e4&268435455;u[c++]=T>>>8&255,u[c++]=255&T,u[c++]=T>>>24&15|16,u[c++]=T>>>16&255,u[c++]=g>>>8|128,u[c++]=255&g;for(var v=0;v<6;++v)u[c+v]=m[v];return t||(0,d.Z)(u)}},558068:(e,t,r)=>{r.d(t,{Hv:()=>s,aX:()=>m,nK:()=>g});var a=r(667294),o=r(425288),n=r(276775),d=r(785893);const{Provider:i,useHook:s}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){var r;const a={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(a.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:a,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:a};default:return e}}function m(){const{current:e,previous:t}=s();return(0,a.useMemo)((()=>e?t.concat(e):t),[e,t])}function g({children:e}){const t=(0,n.useHistory)(),r=(0,n.useLocation)(),o=(0,n.useRouteMatch)(),s={forward:[],current:{action:t.action,location:r,match:o},previous:[]},[c,m]=(0,a.useReducer)(u,s);return(0,a.useEffect)((()=>{const{action:e}=t;m({type:e,location:r,match:o})}),[r]),(0,d.jsx)(i,{value:c,children:e})}},790123:(e,t,r)=>{r.d(t,{j:()=>m,w:()=>u});var a=r(829407),o=r(407043),n=r(50286),d=r(780280),i=r(425288),s=r(785893);const{Provider:c,useMaybeHook:u}=(0,i.Z)("TimeSpentManagerContext");function m({children:e,value:t}){const r=(0,o.v)(),i=(0,n.HG)(),{isAuthenticated:u}=(0,d.B)(),m=i&&u;return(0,a.Z)((()=>{document.hasFocus()&&t(r,m).registerApp(),t(r,m).addEventListeners()})),(0,s.jsx)(c,{value:t(r,m),children:e})}},245474:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(172045),o=r(17314);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const i=class{constructor(e){n(this,"start",(()=>(this.startTime=d(),this.startTime))),n(this,"end",(()=>(this.endTime=d(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,a.Z)()}catch(t){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},343341:(e,t,r)=>{r.d(t,{F9:()=>d,Zo:()=>o,nE:()=>n});var a=r(425288);const{Provider:o,Consumer:n,useHook:d}=(0,a.Z)("toastManagerContext")},139405:(e,t,r)=>{r.d(t,{pb:()=>f,nf:()=>h,lV:()=>A});var a=r(667294),o=r(702664),n=r(689070),d=r(441143),i=r.n(d),s=r(214494),c=r(618446),u=r.n(c),m=r(682492),g=r.n(m);const l={feature_map:Object.freeze({})},p=(e,t)=>{const r={...g()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return u()(e,r)?e:r},E=(e=l,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:r}}=t,a=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===r||"AggregatedCommentReplyFeedResource"===r||"DidItCommentsResource"===r){const t=(a||[]).reduce(((t,r)=>(t[r.id]=p(e[r.id],r),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===r&&a&&a.length>0){const t=a.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,r)=>(t[r.id]=p(e[r.id],r),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===r&&a&&a.length>0){const t=a[0].aggregated_comment,r=t?{[t.id]:p(e[t.id],t)}:{},o=a[0].creator_reply,n=o?{[o.id]:p(e[o.id],o)}:{};return{...e,...r,...n}}if("AggregatedCommentFeaturesResource"===r&&a&&Object.keys(a).length>0)return{...e,feature_map:a}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:r}}=t;return r.id?{...e,[r.id]:r}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:r}}=t,a={...e};return delete a[r],a}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:r}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==r})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:r}}=t;return{...e,[r.id]:p(e[r.id],r)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:r}}=t,a=e[r.id],o=a.reaction_counts[1]||0,n={1:r.reaction_by_me?o+1:o-1},d={...a,reaction_by_me:r.reaction_by_me,reaction_counts:n};return{...e,[r.id]:d}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:r}}=t,a=e[r.id],o=a.helpful_count||0,n=r.marked_helpful_by_me?o+1:o-1,d={...a,marked_helpful_by_me:r.marked_helpful_by_me,helpful_count:n};return{...e,[r.id]:d}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:r}}=t,a={...e[r.aggregated_comment_id],highlighted_by_pin_owner:r.is_highlighted};return{...e,[r.aggregated_comment_id]:a}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:r}}}=t;return{...e,feature_map:{...e.feature_map,...r}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:r,id:a}}=t,o=e[a],n={...o,comment_count:o.comment_count+r};return{...e,[a]:n}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:r,tagged_users:a}}=t,o={...e[r],tagged_users:a};return{...e,[r]:o}}}return e};var _=r(425288),y=r(505920),T=r(785893);const{Provider:v,useHook:C}=(0,_.Z)("AggregatedComments");function f({children:e}){const t=(0,o.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let r=l;t&&Object.values(t).forEach((e=>{var t;const a=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),o=null==a?void 0:a.reduce(((e,t)=>(e[t.id]=p(r[t.id],t),e)),{});r={...r,...o}}));const[n,d]=(0,a.useReducer)(E,r),i=e=>{d({type:"FETCH_COMPLETE",payload:e})};(0,y.Z8)("AggregatedCommentFeaturesResource",i),(0,y.my)("AggregatedCommentFeaturesResource",i),(0,y.Z8)("AggregatedCommentFeedResource",i),(0,y.my)("AggregatedCommentFeedResource",i),(0,y.Z8)("AggregatedCommentReplyFeedResource",i),(0,y.my)("AggregatedCommentReplyFeedResource",i),(0,y.Z8)("DidItCommentsResource",i),(0,y.my)("DidItCommentsResource",i),(0,y.Z8)("UnifiedCommentsPreviewResource",i),(0,y.my)("UnifiedCommentsPreviewResource",i),(0,y.Z8)("UnifiedCommentsResource",i),(0,y.my)("UnifiedCommentsResource",i);const s=(0,a.useMemo)((()=>({aggregatedComments:n,dispatch:d})),[n,d]);return(0,T.jsx)(v,{value:s,children:e})}function h(){const{dispatch:e}=C();return(0,a.useMemo)((()=>({aggregatedCommentCreated(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:(t,r)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:r})=>{const a={commentId:e,reason:t,detailedReasons:r};return s.Z.create("AggregatedCommentFlagResource",a).callCreate()},deleteCommentMention:async t=>{var r;const{resource_response:a}=await(0,n.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),o=null!==(r=null==a?void 0:a.data)&&void 0!==r?r:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:o.id,tagged_users:o.tagged_users}})},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:r})=>{(0,n.Z)({url:`/v3/helpful/1/${t}/`,method:r?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:r,isHighlighted:a})=>{i()(t),i()(r),await(0,n.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:r,highlight:!a}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:r,is_highlighted:!a}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:r})=>{(0,n.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:r?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:r?0:1}}})},updateAggregatedComment:async({commentId:t,force:r,orbacSubjectId:a,tags:o,text:n})=>{var d;const{resource_response:i}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:r,tags:o,text:n,...a?{orbacSubjectId:a}:{}}).callUpdate({showError:!1}),{tagged_users:c}=null!==(d=null==i?void 0:i.data)&&void 0!==d?d:{},u=c.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:u,tags:JSON.parse(o),text:n}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:r})=>{var a;const{resource_response:o}=await s.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:r}).callUpdate({showError:!1}),n=null!==(a=null==o?void 0:o.data)&&void 0!==a?a:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:n}}})},updateCommentCount:(t,r)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}})),[e])}function A(){const{aggregatedComments:e}=C();return e}},94089:(e,t,r)=>{r.d(t,{G:()=>g,Kl:()=>l,vo:()=>m});var a=r(667294),o=r(311541),n=r(425288),d=r(505920),i=r(785893);const s=()=>r.e(18870).then(r.bind(r,218870)),{Provider:c,useHook:u}=(0,n.Z)("NativeEngagements");function m({children:e}){const[t,r]=(0,o.Z)(s,[]),n=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,d.Z8)("NativeInteractionsResource",n),(0,d.my)("NativeInteractionsResource",n);const u=(0,a.useMemo)((()=>({dispatch:r,nativeEngagements:t})),[r,t]);return(0,i.jsx)(c,{value:u,children:e})}function g(){const{dispatch:e}=u();return(0,a.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function l(){const{nativeEngagements:e}=u();return e}},350118:(e,t,r)=>{r.d(t,{AF:()=>i,H0:()=>s,S6:()=>c,_S:()=>u});var a=r(702664),o=r(425288),n=r(785893);const{Provider:d,useHook:i,useMaybeHook:s}=(0,o.Z)("Pins");function c(){const e=i();return t=>e[t]}function u({children:e}){const t=(0,a.useSelector)((({pins:e})=>e),a.shallowEqual);return(0,n.jsx)(d,{value:t,children:e})}},116674:(e,t,r)=>{r.d(t,{X:()=>u,f:()=>c});var a=r(667294);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var n=r(425288),d=r(623568),i=r(785893);const{Provider:s,useHook:c}=(0,n.Z)("ReportData");function u({children:e}){const[t,r]=(0,a.useReducer)(o,null),n=(0,a.useCallback)((()=>r({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"aggregatedComment"}})),[]),u=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"conversation"}})),[]),m=(0,a.useCallback)(((e,t,a)=>r({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:a,type:"pin"}})),[]),g=(0,a.useCallback)(((e,t,a)=>{const{id:o,is_downstream_promotion:n,promoter:i,rich_metadata:s,rich_summary:c,videos:u}=e,m=(0,d.VX)(s,c),g=(0,d.jL)(n,!!i);let l;if((0,d.iR)(u)&&u){const{video_list:e={}}=u,t=e[Object.keys(e)[0]];l=t&&t.duration}r({type:"REPORT_CONTENT_SHOW",payload:{id:o,isProduct:m,isPromoted:g,videoDuration:l,viewParameter:t,viewType:a,type:"pin"}})}),[]),l=(0,a.useMemo)((()=>({reportData:t,dismiss:n,reportComment:c,reportConversation:u,reportImage:m,reportPin:g})),[t,n,c,u,m,g]);return(0,i.jsx)(s,{value:l,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/55262-c53ea977529699a1.mjs.map