(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[90078,33224],{618552:(e,t,r)=>{var n=r(610852)(r(555639),"DataView");e.exports=n},853818:(e,t,r)=>{var n=r(610852)(r(555639),"Promise");e.exports=n},458525:(e,t,r)=>{var n=r(610852)(r(555639),"Set");e.exports=n},288668:(e,t,r)=>{var n=r(883369),a=r(90619),o=r(572385);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=a,s.prototype.has=o,e.exports=s},70577:(e,t,r)=>{var n=r(610852)(r(555639),"WeakMap");e.exports=n},896874:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},477412:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},234963:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[a++]=s)}return o}},862488:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},282908:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},286556:(e,t,r)=>{var n=r(789465),a=r(977813);e.exports=function(e,t,r){(void 0!==r&&!a(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},234865:(e,t,r)=>{var n=r(789465),a=r(977813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var s=e[t];o.call(e,t)&&a(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},744037:(e,t,r)=>{var n=r(698363),a=r(3674);e.exports=function(e,t){return e&&n(t,a(t),e)}},163886:(e,t,r)=>{var n=r(698363),a=r(481704);e.exports=function(e,t){return e&&n(t,a(t),e)}},789465:(e,t,r)=>{var n=r(538777);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},285990:(e,t,r)=>{var n=r(646384),a=r(477412),o=r(234865),s=r(744037),i=r(163886),c=r(364626),u=r(200278),d=r(318805),l=r(201911),p=r(458234),_=r(946904),E=r(664160),v=r(43824),f=r(529148),y=r(738517),O=r(701469),T=r(644144),A=r(356688),S=r(513218),I=r(472928),m=r(3674),N=r(481704),P="[object Arguments]",b="[object Function]",R="[object Object]",w={};w[P]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w[R]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w[b]=w["[object WeakMap]"]=!1,e.exports=function e(t,r,C,D,g,h){var j,L=1&r,U=2&r,x=4&r;if(C&&(j=g?C(t,D,g,h):C(t)),void 0!==j)return j;if(!S(t))return t;var M=O(t);if(M){if(j=v(t),!L)return u(t,j)}else{var V=E(t),k=V==b||"[object GeneratorFunction]"==V;if(T(t))return c(t,L);if(V==R||V==P||k&&!g){if(j=U||k?{}:y(t),!L)return U?l(t,i(j,t)):d(t,s(j,t))}else{if(!w[V])return g?t:{};j=f(t,V,L)}}h||(h=new n);var G=h.get(t);if(G)return G;h.set(t,j),I(t)?t.forEach((function(n){j.add(e(n,r,C,n,t,h))})):A(t)&&t.forEach((function(n,a){j.set(a,e(n,r,C,a,t,h))}));var H=M?void 0:(x?U?_:p:U?N:m)(t);return a(H||t,(function(n,a){H&&(n=t[a=n]),o(j,a,e(n,r,C,a,t,h))})),j}},603118:(e,t,r)=>{var n=r(513218),a=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(a)return a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},228483:(e,t,r)=>{var n=r(225063)();e.exports=n},868866:(e,t,r)=>{var n=r(862488),a=r(701469);e.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},690939:(e,t,r)=>{var n=r(902492),a=r(637005);e.exports=function e(t,r,o,s,i){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!=t&&r!=r:n(t,r,o,s,e,i))}},902492:(e,t,r)=>{var n=r(646384),a=r(967114),o=r(518351),s=r(916096),i=r(664160),c=r(701469),u=r(644144),d=r(936719),l="[object Arguments]",p="[object Array]",_="[object Object]",E=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,f,y){var O=c(e),T=c(t),A=O?p:i(e),S=T?p:i(t),I=(A=A==l?_:A)==_,m=(S=S==l?_:S)==_,N=A==S;if(N&&u(e)){if(!u(t))return!1;O=!0,I=!1}if(N&&!I)return y||(y=new n),O||d(e)?a(e,t,r,v,f,y):o(e,t,A,r,v,f,y);if(!(1&r)){var P=I&&E.call(e,"__wrapped__"),b=m&&E.call(t,"__wrapped__");if(P||b){var R=P?e.value():e,w=b?t.value():t;return y||(y=new n),f(R,w,r,v,y)}}return!!N&&(y||(y=new n),s(e,t,r,v,f,y))}},225588:(e,t,r)=>{var n=r(664160),a=r(637005);e.exports=function(e){return a(e)&&"[object Map]"==n(e)}},829221:(e,t,r)=>{var n=r(664160),a=r(637005);e.exports=function(e){return a(e)&&"[object Set]"==n(e)}},400280:(e,t,r)=>{var n=r(225726),a=r(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},710313:(e,t,r)=>{var n=r(513218),a=r(225726),o=r(133498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=a(e),r=[];for(var i in e)("constructor"!=i||!t&&s.call(e,i))&&r.push(i);return r}},642980:(e,t,r)=>{var n=r(646384),a=r(286556),o=r(228483),s=r(559783),i=r(513218),c=r(481704),u=r(636390);e.exports=function e(t,r,d,l,p){t!==r&&o(r,(function(o,c){if(p||(p=new n),i(o))s(t,r,c,d,e,l,p);else{var _=l?l(u(t,c),o,c+"",t,r,p):void 0;void 0===_&&(_=o),a(t,c,_)}}),c)}},559783:(e,t,r)=>{var n=r(286556),a=r(364626),o=r(477133),s=r(200278),i=r(738517),c=r(135694),u=r(701469),d=r(229246),l=r(644144),p=r(623560),_=r(513218),E=r(968630),v=r(936719),f=r(636390),y=r(959881);e.exports=function(e,t,r,O,T,A,S){var I=f(e,r),m=f(t,r),N=S.get(m);if(N)n(e,r,N);else{var P=A?A(I,m,r+"",e,t,S):void 0,b=void 0===P;if(b){var R=u(m),w=!R&&l(m),C=!R&&!w&&v(m);P=m,R||w||C?u(I)?P=I:d(I)?P=s(I):w?(b=!1,P=a(m,!0)):C?(b=!1,P=o(m,!0)):P=[]:E(m)||c(m)?(P=I,c(I)?P=y(I):_(I)&&!p(I)||(P=i(m))):b=!1}b&&(S.set(m,P),T(P,m,O,A,S),S.delete(m)),n(e,r,P)}}},105976:(e,t,r)=>{var n=r(406557),a=r(545357),o=r(430061);e.exports=function(e,t){return o(a(e,t,n),e+"")}},356560:(e,t,r)=>{var n=r(575703),a=r(538777),o=r(406557),s=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=s},274757:e=>{e.exports=function(e,t){return e.has(t)}},274318:(e,t,r)=>{var n=r(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},364626:(e,t,r)=>{e=r.nmd(e);var n=r(555639),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,i=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}},257157:(e,t,r)=>{var n=r(274318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},540419:(e,t,r)=>{var n=r(562705),a=n?n.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},477133:(e,t,r)=>{var n=r(274318);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},698363:(e,t,r)=>{var n=r(234865),a=r(789465);e.exports=function(e,t,r,o){var s=!r;r||(r={});for(var i=-1,c=t.length;++i<c;){var u=t[i],d=o?o(r[u],e[u],u,r,e):void 0;void 0===d&&(d=e[u]),s?a(r,u,d):n(r,u,d)}return r}},318805:(e,t,r)=>{var n=r(698363),a=r(799551);e.exports=function(e,t){return n(e,a(e),t)}},201911:(e,t,r)=>{var n=r(698363),a=r(151442);e.exports=function(e,t){return n(e,a(e),t)}},321463:(e,t,r)=>{var n=r(105976),a=r(816612);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,i&&a(r[0],r[1],i)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}},225063:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),s=n(t),i=s.length;i--;){var c=s[e?i:++a];if(!1===r(o[c],c,o))break}return t}}},538777:(e,t,r)=>{var n=r(610852),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},967114:(e,t,r)=>{var n=r(288668),a=r(282908),o=r(274757);e.exports=function(e,t,r,s,i,c){var u=1&r,d=e.length,l=t.length;if(d!=l&&!(u&&l>d))return!1;var p=c.get(e),_=c.get(t);if(p&&_)return p==t&&_==e;var E=-1,v=!0,f=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++E<d;){var y=e[E],O=t[E];if(s)var T=u?s(O,y,E,t,e,c):s(y,O,E,e,t,c);if(void 0!==T){if(T)continue;v=!1;break}if(f){if(!a(t,(function(e,t){if(!o(f,t)&&(y===e||i(y,e,r,s,c)))return f.push(t)}))){v=!1;break}}else if(y!==O&&!i(y,O,r,s,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},518351:(e,t,r)=>{var n=r(562705),a=r(611149),o=r(977813),s=r(967114),i=r(668776),c=r(321814),u=n?n.prototype:void 0,d=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,l,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var _=i;case"[object Set]":var E=1&n;if(_||(_=c),e.size!=t.size&&!E)return!1;var v=p.get(e);if(v)return v==t;n|=2,p.set(e,t);var f=s(_(e),_(t),n,u,l,p);return p.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,r)=>{var n=r(458234),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,s,i){var c=1&r,u=n(e),d=u.length;if(d!=n(t).length&&!c)return!1;for(var l=d;l--;){var p=u[l];if(!(c?p in t:a.call(t,p)))return!1}var _=i.get(e),E=i.get(t);if(_&&E)return _==t&&E==e;var v=!0;i.set(e,t),i.set(t,e);for(var f=c;++l<d;){var y=e[p=u[l]],O=t[p];if(o)var T=c?o(O,y,p,t,e,i):o(y,O,p,e,t,i);if(!(void 0===T?y===O||s(y,O,r,o,i):T)){v=!1;break}f||(f="constructor"==p)}if(v&&!f){var A=e.constructor,S=t.constructor;A==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof S&&S instanceof S||(v=!1)}return i.delete(e),i.delete(t),v}},458234:(e,t,r)=>{var n=r(868866),a=r(799551),o=r(3674);e.exports=function(e){return n(e,o,a)}},946904:(e,t,r)=>{var n=r(868866),a=r(151442),o=r(481704);e.exports=function(e){return n(e,o,a)}},385924:(e,t,r)=>{var n=r(205569)(Object.getPrototypeOf,Object);e.exports=n},799551:(e,t,r)=>{var n=r(234963),a=r(770479),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return o.call(e,t)})))}:a;e.exports=i},151442:(e,t,r)=>{var n=r(862488),a=r(385924),o=r(799551),s=r(770479),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=a(e);return t}:s;e.exports=i},664160:(e,t,r)=>{var n=r(618552),a=r(357071),o=r(853818),s=r(458525),i=r(70577),c=r(644239),u=r(680346),d="[object Map]",l="[object Promise]",p="[object Set]",_="[object WeakMap]",E="[object DataView]",v=u(n),f=u(a),y=u(o),O=u(s),T=u(i),A=c;(n&&A(new n(new ArrayBuffer(1)))!=E||a&&A(new a)!=d||o&&A(o.resolve())!=l||s&&A(new s)!=p||i&&A(new i)!=_)&&(A=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case v:return E;case f:return d;case y:return l;case O:return p;case T:return _}return t}),e.exports=A},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,r)=>{var n=r(274318),a=r(257157),o=r(593147),s=r(540419),i=r(477133);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(e,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Set]":return new c;case"[object Symbol]":return s(e)}}},738517:(e,t,r)=>{var n=r(603118),a=r(385924),o=r(225726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(a(e))}},816612:(e,t,r)=>{var n=r(977813),a=r(498612),o=r(565776),s=r(513218);e.exports=function(e,t,r){if(!s(r))return!1;var i=typeof t;return!!("number"==i?a(r)&&o(t,r.length):"string"==i&&t in r)&&n(r[t],e)}},668776:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},86916:(e,t,r)=>{var n=r(205569)(Object.keys,Object);e.exports=n},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},545357:(e,t,r)=>{var n=r(896874),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,i=a(o.length-t,0),c=Array(i);++s<i;)c[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=r(c),n(e,this,u)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},430061:(e,t,r)=>{var n=r(356560),a=r(521275)(n);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},150361:(e,t,r)=>{var n=r(285990);e.exports=function(e){return n(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,r)=>{var n=r(498612),a=r(637005);e.exports=function(e){return a(e)&&n(e)}},618446:(e,t,r)=>{var n=r(690939);e.exports=function(e,t){return n(e,t)}},356688:(e,t,r)=>{var n=r(225588),a=r(307518),o=r(531167),s=o&&o.isMap,i=s?a(s):n;e.exports=i},968630:(e,t,r)=>{var n=r(644239),a=r(385924),o=r(637005),s=Function.prototype,i=Object.prototype,c=s.toString,u=i.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d}},472928:(e,t,r)=>{var n=r(829221),a=r(307518),o=r(531167),s=o&&o.isSet,i=s?a(s):n;e.exports=i},3674:(e,t,r)=>{var n=r(14636),a=r(400280),o=r(498612);e.exports=function(e){return o(e)?n(e):a(e)}},481704:(e,t,r)=>{var n=r(14636),a=r(710313),o=r(498612);e.exports=function(e){return o(e)?n(e,!0):a(e)}},682492:(e,t,r)=>{var n=r(642980),a=r(321463)((function(e,t,r){n(e,t,r)}));e.exports=a},770479:e=>{e.exports=function(){return[]}},959881:(e,t,r)=>{var n=r(698363),a=r(481704);e.exports=function(e){return n(e,a(e))}},619937:(e,t,r)=>{r.d(t,{$N:()=>p,GY:()=>c,MZ:()=>s,NR:()=>d,Vn:()=>u,fm:()=>n,kM:()=>o,q6:()=>a,qp:()=>i,uV:()=>l});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},s={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce"},i={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_MANAGER:"CONVERSIONS_API_MANAGER",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},l=604800,p={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},366284:(e,t,r)=>{r.d(t,{G6:()=>o,i7:()=>s,oi:()=>n,u$:()=>a,un:()=>c,vU:()=>i});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function o(e){return a(e)===n.SAFARI}function s(e){return a(e)===n.CHROME}function i(e){return a(e)===n.FIREFOX}function c(e){return a(e)===n.EDGE}},687551:(e,t,r)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}r.d(t,{Z:()=>n})},745760:(e,t,r)=>{r.d(t,{Ch:()=>p,nc:()=>S,a:()=>I,ZP:()=>m,cA:()=>T,li:()=>A,h1:()=>d});var n=r(682492),a=r.n(n),o=r(214494),s=r(594881),i=r(706922);var c=r(385740),u=r(172045);const d=()=>1e6*Date.now(),l=[6945,170],p={3829:"articleImpressions",18:"pinImpressions",3700:"boardImpressions",3803:"searchImpressions",170:"storyImpression",3704:"userImpressions"},_=[4700,4701,4702,4703,7042,7043],E=e=>function(e){let t=e.length;for(let r=e.length-1;r>=0;r-=1){const n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}(JSON.stringify(e)),v=e=>l.includes(e);let f;function y(){const e=new Date;f?f&&f.getUTCDate()!==e.getUTCDate()&&(f=e,(0,s.Z)()):f=e}function O(e){return e.reduce(((e,t)=>{const r=e.find((n=t,e=>e.view_type===n.viewType&&e.view_parameter===n.viewParameter&&e.event_type===n.eventType&&e.object_id_str===n.objectIdStr&&(0,i.Z)(e.view_data,n.viewData)));var n;if(r&&!v(t.eventType))t.impressionType in r.event_data?r.event_data[t.impressionType].push(t.eventData):r.event_data[t.impressionType]=[t.eventData];else{const r={event_type:t.eventType,view_parameter:t.viewParameter,view_type:t.viewType,view_data:t.viewData,time:d(),component:t.component,clientUUID:(0,u.Z)(),aux_data:t.auxData||{},appState:t.appState,event_data:{[t.impressionType]:v(t.eventType)?{...t.eventData,...(t.eventData||{})[t.impressionType]}:[t.eventData]},object_id_str:t.objectIdStr||void 0};e.push(r)}return e}),[])}const T=e=>{const t=e.event_type,r=_.includes(t),n=(0,c.BE)();return!(!r&&13!==t&&!n)},A=(e,t)=>{const r=e.event_type,n=_.includes(r),o=(0,c.BE)();return n?e:13===r&&e.view_type?(null==t||t({viewType:e.view_type,viewParameter:e.view_parameter,viewData:null!=o&&o.viewData?a()(o.viewData,e.view_data):a()({},e.view_data)}),e):!o||e.view_type&&e.view_parameter?e:{...e,view_type:o.viewType,view_parameter:o.viewParameter,view_data:e.view_data?a()(e.view_data,o.viewData):a()({},o.viewData)}},S=(e,t)=>{var r,n;const a=e.component,o=e.object_id_str,s=e.view_type,i=e.event_type,c=e.appState;return null!==(r=((null===(n=e.event_data)||void 0===n?void 0:n[t])||[]).map((r=>({auxData:e.aux_data,...a?{component:a}:{},eventData:r,...i?{eventType:i}:{},...s?{viewType:s}:{},viewData:e.view_data,viewParameter:e.view_parameter,...o?{objectIdStr:o}:null,impressionType:t,appState:c}))))&&void 0!==r?r:[]},I=(e,t)=>({...e.component?{component:e.component}:{},...e.object_id_str?{objectIdStr:e.object_id_str}:null,...e.view_type?{viewType:e.view_type}:{},eventType:e.event_type,auxData:e.aux_data,impressionType:t,viewData:e.view_data,viewParameter:e.view_parameter,eventData:e.event_data});function m(){let e=[],t=[],r=0;function n(){return[...e,...O(t)]}function a(){e=[],t=[],r=0}function s(e=!1){const t=n();t.length&&(o.Z.create("ContextLogResource",{events:t,report_time:d()}).callCreate({async:!e,showError:!1}),a(),y())}return{flushContextEvents:s,getContextEvents:n,logContextEvent:function({object_id_str:t,...n}){const a={aux_data:{},event_data:{},view_data:{},...n,time:d(),clientUUID:(0,u.Z)(),...t?{object_id_str:t}:null};a.aux_data=function(e){if(!e)return e;const{element:t,eventData:r,component:n,objectId:a,view:o,viewParameter:s,viewData:i,durationNs:c,pairId:u,clientTrackingParams:d,...l}=e;return l}(a.aux_data),r+E(a)>20480&&s(!1),e.push(a),y()},logImpression:function(e){r+E(e)>20480&&s(!1),t.push(e)},resetEventsBuffer:a}}},966476:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(667294);const a=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},713930:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(172071);function a(e,t){return new Promise(((r,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,n.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)r();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,n.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else r()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>r())),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},605028:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(687551),a=r(623568);function o(e){const{access:t,attribution:r,embed:o,is_eligible_for_web_closeup:s,promoted_is_lead_ad:i,rich_summary:c,sponsorship:u,story_pin_data_id:d,videos:l}=e,p={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};i&&(p.isLeadPin=!0),(0,n.Z)(e)&&(p.isCarousel=!0),s&&(p.isOneTap=!0),(0,a.iR)(l)&&(p.isVideo=!0);const _=o||r&&r.embed||null;return _&&"gif"===_.type&&(p.isGif=!0),c&&"product"===c.type_name&&(p.isProduct=!0),c&&"recipe"===c.type_name&&(p.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(p.isPromoted=!0),(t||[]).includes("write")&&(p.isOwnPin=!0),d&&(p.isStoryPin=!0),u&&(p.isSponsored=!0),p}},623568:(e,t,r)=>{r.d(t,{Js:()=>i,NK:()=>T,Nc:()=>A,VX:()=>c,ZE:()=>f,Zt:()=>y,_J:()=>l,_S:()=>S,cL:()=>E,dZ:()=>N,hb:()=>O,hy:()=>d,iR:()=>s,jL:()=>u,o:()=>I,oN:()=>a,pU:()=>m,rM:()=>v,sV:()=>p,sY:()=>_});var n=r(605028);const a=5e3,o=["Uploaded by user"],s=e=>!!e&&!!e.video_list,i=(e,t)=>{let r=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(r=t.full_name),r},c=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,u=(e,t)=>!!t&&!e,d=e=>!!e,l=e=>!!e.video_status&&5!==e.video_status,p=e=>["email","messages","deep_linking"].includes(e),_=e=>!!e&&"gif"===e,E=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!_(r)&&!(e=>"pinstory"===e)(t),v=({link:e,mobileLink:t,trackedLink:r})=>!t&&!r&&!e,f=e=>/pin.it/gim.test(e||""),y=({link:e,mobileLink:t,origImageUrl:r,trackedLink:n})=>t||n||e||r||"",O=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",T=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function A({pin:e,isSCEEnabled:t}){var r;const{aggregated_pin_data:a}=e,{isStoryPin:o,isVideo:s}=(0,n.Z)(e);return!(!t&&(o||s))&&0!==Object.keys((null==a||null===(r=a.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length}function S(e){for(const t of o)if(e===t)return!1;return!0}function I(e){return 0!==Object.keys((null==e?void 0:e["30d_realtime"])||{}).length}function m(e){return 0!==Object.keys((null==e?void 0:e.all_time_realtime)||{}).length}function N(e){var t;return!(null==e||null===(t=e["30d_realtime"])||void 0===t||!t.is_realtime)}},813401:(e,t,r)=>{r.d(t,{kf:()=>f,l5:()=>E,of:()=>p,xC:()=>v,yz:()=>_});var n=r(667294),a=r(172071),o=r(829407),s=r(807609),i=r(30287),c=r(425288),u=r(785893);const{Provider:d,useMaybeHook:l}=(0,c.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[r,s]=(0,n.useState)(null),c=t||{pwaType:"unknown",twaType:null},l=c.pwaType;(0,o.Z)((()=>{const e=(0,i.FB)(window)||"unknown";s(e),l!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:l,clientPwaType:e,conflict:"unknown"!==l&&"unknown"!==e})}));const p="unknown"===l&&r?r:l,_=c.twaType,E=(0,n.useMemo)((()=>({pwaType:p,twaType:_})),[p,_]);return(0,u.jsx)(d,{value:E,children:e})},_=()=>{var e;const t=l();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},E=()=>{var e;const t=l();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},v=()=>"android-twa"===_(),f=()=>{const e=_(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},505920:(e,t,r)=>{r.d(t,{UZ:()=>l,Z8:()=>p,my:()=>_});var n=r(667294),a=(r(702664),r(425288)),o=r(214494),s=r(785893);function i(e,t,r){var n;const a=[...null!==(n=t[e][r.payload.name])&&void 0!==n?n:[],r.payload.handler],o={...t};return o[e]={...t[e],[r.payload.name]:a},o}function c(e,t,r){if(!t[e][r.payload.name])return t;const n=t[e][r.payload.name].filter((e=>e!==r.payload.handler)),a={...t};return a[e]={...t[e],[r.payload.name]:n},a}const{Provider:u,useHook:d}=(0,a.Z)("ResourceContext");function l({children:e}){const[{listeners:t,moreListeners:r},a]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return i("listeners",e,t);case"addMoreListener":return i("moreListeners",e,t);case"removeListener":return c("listeners",e,t);case"removeMoreListener":return c("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});o.Z.fetchCompleteCallback=({resource:e,options:r,response:n,normalizedResponse:a,refresh:o,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:o,normalizedResponse:a,options:r,schema:s,resource:e,response:n})))},o.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:a,refresh:o,resourceSchema:s})=>{r[e]&&r[e].forEach((r=>r({isRefresh:o,normalizedResponse:a,options:t,schema:s,resource:e,response:n})))};const d=(0,n.useMemo)((()=>({listenerDispatch:a})),[]);return(0,s.jsx)(u,{value:d,children:e})}function p(e,t){const{listenerDispatch:r}=d();(0,n.useEffect)((()=>(r({type:"addListener",payload:{name:e,handler:t}}),()=>{r({type:"removeListener",payload:{name:e,handler:t}})})))}function _(e,t){const{listenerDispatch:r}=d();(0,n.useEffect)((()=>(r({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{r({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},858416:(e,t,r)=>{r.d(t,{Wr:()=>l,Hx:()=>_,RC:()=>p});var n=r(667294);var a=r(311541),o=r(425288),s=r(924687),i=r(785893);const c=()=>Promise.resolve().then(r.bind(r,924687)),{Provider:u,useHook:d}=(0,o.Z)("IdeaPinVideoPlayer");function l({children:e}){const[t,r]=(0,a.Z)(c,s.initialState),o=(0,n.useMemo)((()=>({dispatch:r,ideaPinVideoPlayerControls:t})),[r,t]);return(0,i.jsx)(u,{value:o,children:e})}function p(){const{dispatch:e}=d();return(0,n.useMemo)((()=>({updateSeekTime:(t,r)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:r||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function _(){const{ideaPinVideoPlayerControls:e}=d();return e}},924687:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a,initialState:()=>n});const n={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},170168:(e,t,r)=>{r.d(t,{Ag:()=>o,C0:()=>c,Vi:()=>s,YD:()=>l,kS:()=>a,oo:()=>i,p3:()=>p,vC:()=>u,vI:()=>d});var n=r(401060);const a="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",s="www.pinterest.com",i="https://help.pinterest.com",c="https://www.pinterest.com",u=(0,n.Z)({site:"developers"}),d=`${(0,n.Z)({site:"sterling"})}`,l=`${(0,n.Z)({site:"analytics"})}`,p=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},311541:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(667294);function a(e,t){const r=(0,n.useRef)([]),[a,o]=(0,n.useState)(),[s,i]=(0,n.useReducer)(null!=a?a:()=>t,t),c=(0,n.useCallback)((t=>{a?i(t):(r.current.length||e().then((e=>{o((()=>e.default))})),r.current=[...r.current,t])}),[e,a]);return(0,n.useEffect)((()=>{a&&(r.current.forEach(i),r.current=[])}),[a]),[s,c]}},807609:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(411465),a=r(966476);const o=()=>{const e=(0,n.Z)(),t=(0,a.Z)();return e&&!t}},644035:(e,t,r)=>{r.d(t,{GW:()=>a,RL:()=>n,s4:()=>o});const n="ios",a="android",o="ipad"},965900:(e,t,r)=>{r.d(t,{g:()=>_,I:()=>p});var n=r(667294),a=r(567450),o=r(150361),s=r.n(o);const i={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},c=(e=i,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:r}=t,{pinId:n,isPromoted:a,currentTime:o,inVideoGridAutoplayExp:i}=r,{videosAutoplaying:c}=e,{currentlyPlayingOrganicVideoId:u,promotedVideosAutoplaying:d,organicVideosAutoplaying:l}=c,p=s()(d),_=s()(l);return!a&&u&&i?e:(a?p[n]={pinId:n,currentTime:o,paused:!1}:_[n]={pinId:n,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?u:n,promotedVideosAutoplaying:p,organicVideosAutoplaying:_}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:r}=t,{pinId:n,isPromoted:a,currentTime:o}=r,{videosAutoplaying:i}=e,{promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=i,d=s()(c),l=s()(u);return a?d[n]={...d[n],paused:!0,currentTime:o}:l[n]={...l[n],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:l}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var u=r(425288),d=r(785893);const{Provider:l,useHook:p}=(0,u.Z)("AppUI");function _({children:e}){const[t,r]=(0,n.useReducer)(c,i),o=(0,n.useCallback)((e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),s=(0,n.useCallback)((e=>r({type:"SET_APP_FOCUS_STATE",payload:e})),[]),u=(0,n.useCallback)((e=>r({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,n.useCallback)((e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),_=(0,n.useCallback)((e=>r({type:"SET_IS_AUTOPLAY",payload:e})),[]),E=(0,n.useCallback)((e=>r({type:"SET_VIEWPORT_SIZE",payload:e})),[]),v=(0,n.useCallback)((e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),f=(0,n.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:u,setFooterPlusButtonVisible:p,setIsAutoplay:_,setViewportSize:E,toggleTypeaheadOverlay:v,setAppFocusState:s,appUI:t})),[o,u,p,_,E,v,s,t]);return(0,n.useEffect)((()=>{a.Z.onSessionResume((()=>{s(!0)})).onSessionPause((()=>{s(!1)}))}),[s]),(0,d.jsx)(l,{value:f,children:e})}},313951:(e,t,r)=>{r.d(t,{i5:()=>T,sX:()=>I,aX:()=>A,Z5:()=>O,NG:()=>S,MT:()=>m,iu:()=>N});var n=r(667294),a=r(214494),o=r(682492),s=r.n(o);const i=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const r={};return e.filter((e=>!!e)).reduce(((e,n)=>{const a=t(n);return r[a]?(s()(r[a],n),e):(r[a]=n,e.concat([n]))}),[])}function u(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function d(e,t,r){return u(c(i(e,t).concat(r),(e=>e.id)))}const l={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=l,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const r={...e,data:{...e.data}},{id:n}=t.payload;return delete r.data[n],r}if("FETCH_COMPLETE"===t.type){const{options:r,resource:n,response:a}=t.payload,o=a.resource_response.data;if("ConversationMessagesResource"===n){const t=o||[],n=(null==r?void 0:r.conversation_id)||"",a=d(e,n,t),s=a[a.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:a,unread:0,last_message:s}}}}if("ConversationsResource"===n){const t=o||[],r={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:a,board:o,emails:s,unread:i,users:c,last_message:u}=e,l=d(r,t,[u]);r.data[t]={...r.data[t],id:t,created_at:n,name:a,board:o,emails:s||[],unread:i||0,users:c||[],last_message:u,messages:l}})),r}if("ConversationResource"===n){const t=o||{},{id:r}=t,n={...e,data:{...e.data}};return r&&(n.data[r]={...n.data[r],...t}),n}if("NewsHubBadgeResource"===n){if(o){const t=o.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:r,message:n}=t.payload;return e.data[r]?{...e,data:{...e.data,[r]:{...e.data[r],id:r,messages:[...e.data[r].messages,n]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:r,tempMessage:n,newMessage:a}=t.payload;if(e.data[r]){if(i(e,r).find((e=>e.id===n.id&&e.created_ms===n.created_ms))){const t=u(c(i(e,r).filter((e=>e.id!==n.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[r]:{...e.data[r],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:r,tempMessageId:n}=t.payload;if(e.data[r]){const t=i(e,r).filter((e=>e.id!==n));return{...e,data:{...e.data,[r]:{...e.data[r],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:r}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:r}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:r,position:n}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:n}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:r}=t.payload;return{...e,data:{...e.data,[r]:{...e.data[r],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:r}=t.payload;return{...e,objectAttachment:r}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var _=r(425288),E=r(505920),v=r(785893);const f=(()=>{let e=0;return()=>e++})(),{Provider:y,useHook:O}=(0,_.Z)("Conversations");function T({children:e}){const[t,r]=(0,n.useReducer)(p,l),o=(0,n.useCallback)((e=>r({type:"FETCH_COMPLETE",payload:e})),[]);(0,E.Z8)("ConversationMessagesResource",o),(0,E.my)("ConversationMessagesResource",o),(0,E.Z8)("ConversationsResource",o),(0,E.Z8)("ConversationResource",o),(0,E.Z8)("NewsHubBadgeResource",o);const s=(0,n.useCallback)(((e,t=!1,n="")=>r({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),i=(0,n.useCallback)(((e,t="",n=!1)=>r({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),c=(0,n.useCallback)((e=>r({type:"CONVERSATION_CREATE",payload:e})),[]),u=(0,n.useCallback)((e=>r({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,n.useCallback)(((e,t)=>r({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),_=(0,n.useCallback)((e=>r({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),f=(0,n.useCallback)(((e,t,n)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;r({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),O=(0,n.useCallback)((()=>{r({type:"CLOSE_DROPDOWN"})}),[]),T=(0,n.useCallback)((()=>{r({type:"OPEN_DROPDOWN"})}),[]),A=(0,n.useCallback)((e=>{r({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),S=(0,n.useCallback)(((e,t)=>r({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),I=(0,n.useCallback)(((e,t,n)=>r({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})),[]),m=(0,n.useCallback)(((e,t)=>r({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),N=(0,n.useCallback)((e=>r({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),P=(0,n.useCallback)((e=>r({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),b=(0,n.useCallback)((e=>r({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),R=(0,n.useCallback)((e=>r({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),w=(0,n.useCallback)((()=>r({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),C=(0,n.useMemo)((()=>({clearMessageBadge:b,conversationOpen:s,conversationClose:i,conversationCreate:c,conversationDelete:u,conversationGet:f,saveConversationPosition:d,resetConversationPosition:_,dropdownClose:O,dropdownOpen:T,newMessageOpen:A,pendingMessageSend:S,pendingMessageSuccess:I,pendingMessageFailure:m,updateNewsHubCount:N,updateUnreadCount:P,conversations:t,setObjectAttachment:R,removeObjectAttachment:w})),[b,s,i,c,u,f,d,_,O,T,A,S,I,m,N,P,t,R,w]);return(0,v.jsx)(y,{value:C,children:e})}function A(){const{conversationCreate:e}=O();return async t=>{let r;const n=a.Z.create("ConversationsResource",t);try{var o;const t=null===(o=(await n.callCreate()).resource_response)||void 0===o?void 0:o.data;t&&(e(t),r=t)}catch(s){throw new Error(s.message)}return r}}function S(){const{conversations:e,conversationCreate:t,pendingMessageSend:r,pendingMessageSuccess:n,pendingMessageFailure:o}=O();return async(s,i,c,u)=>{const{text:d,pinId:l,boardId:p,userId:_,didItId:E}=i;async function v(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:s,text:d,pin:l,board:p,user:_,user_did_it_data:E,source:c}),t=`${f()}`,i={text:d,sender:u,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};r(s,i);try{var v;const t=null===(v=(await e.callCreate()).resource_response)||void 0===v?void 0:v.data;t&&n(s,i,t)}catch(y){throw o(s,t),new Error(y.message)}}if(e.data[s])await v();else{const e=a.Z.create("ConversationResource",{conversation_id:s});try{var y;const r=null===(y=(await e.callGet()).resource_response)||void 0===y?void 0:y.data;r&&(t(r),await v())}catch(O){throw new Error(O.message)}}}}function I(e){const{conversations:t}=O();return t.data[e]}function m(e){const{conversations:t}=O();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function N(){const{conversations:{data:e}}=O(),t=(r=e,Object.keys(r).map((e=>r[e]))).filter((e=>e.users&&e.last_message));var r,n;return n=t,Array.from(n).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},772486:(e,t,r)=>{r.d(t,{XK:()=>i,jC:()=>s,yd:()=>c});var n=r(745760);let a=null,o=null;const s=((e,t)=>{let r=null;return s=>{var i;if(s&&!r)return r={...s,event_type:e,time:(0,n.h1)()},null===(i=o)||void 0===i||i.logContextEvent(r),a&&r&&a.storeClickthroughProperties(r),e;if(!s&&r){var c;const e={...r,event_type:t,duration_ns:(0,n.h1)()-r.time};return null===(c=o)||void 0===c||c.logContextEvent(e),r=null,t}return null}})(12,4100),i=e=>{a=e},c=e=>{o=e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/90078-c354ce7f6aca3454.mjs.map